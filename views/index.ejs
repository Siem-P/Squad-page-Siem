<%- include('./partials/head') %>

<header>
  
</header>
<main>
  <h1 class="">Bladeren</h1>
  <nav>
    <% if (pageTitle === "squad-a-2022") { %>
      <a href="/FDND-overzicht/?squad=squad-a-2022" class="nav-link active">Squad A</a>
    <% } else { %>
      <a href="/FDND-overzicht/?squad=squad-a-2022" class="nav-link">Squad A</a>
    <% } %>
    
    <% if (pageTitle === "squad-b-2022") { %>
      <a href="/FDND-overzicht/?squad=squad-b-2022" class="nav-link active">Squad B</a>
    <% } else { %>
      <a href="/FDND-overzicht/?squad=squad-b-2022" class="nav-link">Squad B</a>
    <% } %>

    <% if (pageTitle === "squat-c-2022") { %>
      
      <a href="/FDND-overzicht/?squad=squat-c-2022" class="nav-link active">Squat C</a>
    <% } else { %>
      <a href="/FDND-overzicht/?squad=squat-c-2022" class="nav-link">Squad C</a>
    <% } %>

    <% if (pageTitle === "founders-2021") { %>
      <a href="/FDND-overzicht/?squad=founders-2021" class="nav-link active">Founders</a>
    <% } else { %>
      <a href="/FDND-overzicht/?squad=founders-2021" class="nav-link">Founders</a>
    <% } %>
  </nav>

  <hr class="divider" />
  
  <section class="filter-section">
    <p class="filter">Filter op tag</p>
    <p class="sort">Sorteren op</p>
  </section>

  <section class="cards-container">
    <!-- Check if squad exists -->
    <% if (squad) { %>
    <!-- Iterate through squad.members, make a new article for each member -->
    <% squad.members.forEach(member => { %>
    <article class="card">
      <div class="image-container">
        <div class="colour-circle" ></div>
        <% 
            const avatarSrc = member?.avatar // If there is a value for avatar, use it. Otherwise stay empty.
            if (avatarSrc && avatarSrc !== 'null') {
          %>
        <img class="card-image" src="<%- member.avatar %>" alt="Avatar van <%= member.name %>">
        <% } else { %>
        <img class="card-image" src="/assets/sussybaka.png" alt="Een verdacht poppetje in een schacht">
        <% } %>
      </div>

      <div class="info-area">
        <h3><%= member.name + " " + (member.prefix ?? '') + " " + member.surname %></h3>
        <div class="tags"> 
          <a class="tag" href="<%= member.website %>" target="_blank">Website</a>
          <% if(!member.colour?.hex) {%>
          <% } else { %>
          <a class="tag" href="#">
            <p class="colour-circle" style="--card-circle-colour:<%= member.colour?.hex%>"></p>
          </a>
          <% } %>
        </div>
      </div>
    </article>
    <% })} else {
      return 
    } %>

  </section>
</main>

<%- include('./partials/foot') %>